<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Контакты — Инжиниринг систем безопасности</title>

  <!-- Favicon (встроенный прозрачный 1x1, чтобы не было битой иконки) -->
  <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="/>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#0d3959",
            "background-light": "#f6f7f8",
            "background-dark": "#111a21",
            "foreground-light": "#1F2937",
            "foreground-dark": "#F5F7FA",
            "subtle-light": "#4B5563",
            "subtle-dark": "#a1a1aa",
            "border-light": "#e5e7eb",
            "border-dark": "#374151"
          },
          fontFamily: { display: ["Inter", "sans-serif"] },
          borderRadius: { DEFAULT: "0.5rem", lg: "0.75rem", xl: "1rem", full: "9999px" }
        }
      }
    }
  </script>

  <style>
    body { font-family: 'Inter', sans-serif; }
    .hero-grad { background: linear-gradient(135deg, rgba(13,57,89,0.85), rgba(13,57,89,0.5)); }
    .hero-overlay { background: radial-gradient(60% 80% at 70% 20%, rgba(255,255,255,0.08), transparent 60%); }
    .field-invalid { outline: 2px solid #ef4444 !important; outline-offset: 0; }
  </style>

  <!-- Structured data (без плейсхолдеров: домен берём из location.origin) -->
  <script>
    (function(){
      const data = {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Инжиниринг систем безопасности",
        "url": location.origin + "/",
        "email": "info@securitysystems.com",
        "telephone": "+375290000000",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Минск",
          "streetAddress": "ул. Примерная, 1, офис 101",
          "addressCountry": "BY"
        },
        "areaServed": "BY",
        "sameAs": []
      };
      const s = document.createElement('script');
      s.type = 'application/ld+json';
      s.textContent = JSON.stringify(data);
      document.head.appendChild(s);
    })();
  </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-foreground-light dark:text-foreground-dark">
  <div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">

    <!-- Header (shared) -->
    <div data-include="partials/header.html"></div>

    <main class="flex-grow">
      <!-- Title / Hero (без внешнего изображения, чистый градиент) -->
      <section class="relative">
        <div class="absolute inset-0 hero-grad"></div>
        <div class="absolute inset-0 hero-overlay"></div>
        <div class="relative mx-auto max-w-[1200px] px-4 sm:px-6 lg:px-8 py-20 text-white">
          <h1 class="text-4xl sm:text-5xl font-black leading-tight tracking-tight">Контакты</h1>
          <p class="mt-3 max-w-3xl text-white/90">Свяжитесь с нами удобным способом — подготовим КП и сроки реализации.</p>
        </div>
      </section>

      <!-- Contact blocks -->
      <section class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-[1200px] grid grid-cols-1 lg:grid-cols-3 gap-10">
          <!-- Left: details -->
          <aside class="lg:col-span-1 space-y-6">
            <div class="rounded-lg border border-border-light dark:border-border-dark p-6">
              <h2 class="text-xl font-bold">Реквизиты</h2>
              <ul class="mt-3 text-sm text-subtle-light dark:text-subtle-dark space-y-2">
                <li><b>Организация:</b> ООО «Инжиниринг систем безопасности»</li>
                <li><b>УНП:</b> 123456789</li>
                <li><b>Адрес:</b> г. Минск, ул. Примерная, 1, офис 101</li>
                <li><b>Телефон:</b> <a href="tel:+375290000000" class="hover:text-primary">+375 (29) 000-00-00</a></li>
                <li><b>Email:</b> <a href="mailto:info@securitysystems.com" class="hover:text-primary">info@securitysystems.com</a></li>
                <li><b>График:</b> Пн–Пт, 9:00–18:00</li>
              </ul>
            </div>

            <div class="rounded-lg border border-border-light dark:border-border-dark p-6">
              <h2 class="text-xl font-bold">Адрес на карте</h2>
              <div class="mt-3 aspect-video w-full overflow-hidden rounded-md border border-border-light dark:border-border-dark">
                <iframe
                  title="Карта: Минск, ул. Примерная, 1, офис 101"
                  src="https://maps.google.com/maps?q=%D0%9C%D0%B8%D0%BD%D1%81%D0%BA%20%D1%83%D0%BB.%20%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D0%BD%D0%B0%D1%8F%201%20%D0%BE%D1%84%D0%B8%D1%81%20101&t=&z=15&ie=UTF8&iwloc=&output=embed"
                  class="w-full h-full"
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"></iframe>
              </div>
            </div>
          </aside>

          <!-- Right: form -->
          <div class="lg:col-span-2">
            <div id="contact-form" class="rounded-xl border border-border-light dark:border-border-dark p-6 md:p-8 bg-white/60 dark:bg-white/5">
              <h2 class="text-2xl font-bold">Свяжитесь с нами</h2>
              <p class="mt-1 text-sm text-subtle-light dark:text-subtle-dark">Заполните форму — письмо откроется в вашем почтовом приложении. Мы ответим в течение рабочего дня.</p>

              <form id="mailtoForm" class="mt-6 space-y-6" novalidate>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label for="name" class="text-sm font-medium">Ваше имя</label>
                    <input id="name" name="name" type="text" required autocomplete="name"
                           class="mt-1 block w-full rounded-md border-border-light dark:border-border-dark bg-white/80 dark:bg-white/10"/>
                    <p class="mt-1 hidden text-xs text-red-600" data-err="name">Укажите имя.</p>
                  </div>
                  <div>
                    <label for="email" class="text-sm font-medium">Email</label>
                    <input id="email" name="email" type="email" inputmode="email" required autocomplete="email"
                           class="mt-1 block w-full rounded-md border-border-light dark:border-border-dark bg-white/80 dark:bg-white/10"/>
                    <p class="mt-1 hidden text-xs text-red-600" data-err="email">Укажите корректный email.</p>
                  </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label for="phone" class="text-sm font-medium">Телефон</label>
                    <input id="phone" name="phone" type="tel" inputmode="tel" autocomplete="tel"
                           class="mt-1 block w-full rounded-md border-border-light dark:border-border-dark bg-white/80 dark:bg-white/10"/>
                  </div>
                  <div>
                    <label for="subject" class="text-sm font-medium">Тема</label>
                    <input id="subject" name="subject" type="text" required autocomplete="off"
                           class="mt-1 block w-full rounded-md border-border-light dark:border-border-dark bg-white/80 dark:bg-white/10"/>
                    <p class="mt-1 hidden text-xs text-red-600" data-err="subject">Заполните тему письма.</p>
                  </div>
                </div>

                <div>
                  <label for="message" class="text-sm font-medium">Сообщение</label>
                  <textarea id="message" name="message" rows="6" required
                            class="mt-1 block w-full rounded-md border-border-light dark:border-border-dark bg-white/80 dark:bg-white/10"></textarea>
                  <p class="mt-1 hidden text-xs text-red-600" data-err="message">Добавьте краткое описание задачи.</p>
                </div>

                <div class="flex flex-wrap items-center gap-4">
                  <button type="submit" class="rounded-lg h-12 px-6 bg-primary text-white text-base font-bold hover:bg-primary/90 transition-colors">Отправить</button>
                  <a href="mailto:info@securitysystems.com" class="text-sm font-medium underline underline-offset-4">Или написать напрямую</a>
                </div>
                <p id="formHint" class="mt-2 text-xs text-subtle-light dark:text-subtle-dark">Нажимая «Отправить», вы откроете своё почтовое приложение с готовым письмом.</p>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer (shared) -->
    <div data-include="partials/footer.html"></div>
  </div>

    <!-- Скрипт инклюда (подставит хедер/футер и активирует навигацию) -->
  <script src="assets/include.js"></script>
  <script>
    // Backend-free mailto form with validation + a11y
    const form = document.getElementById('mailtoForm');
    function showError(id, show) {
      const p = document.querySelector(`[data-err="${id}"]`);
      const f = document.getElementById(id);
      if (p) p.classList.toggle('hidden', !show);
      if (f) {
        f.classList.toggle('field-invalid', show);
        f.setAttribute('aria-invalid', String(!!show));
      }
    }
    const enc = s => encodeURIComponent(s).replace(/%20/g, '+');

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const subject = document.getElementById('subject').value.trim();
      const message = document.getElementById('message').value.trim();

      let ok = true;
      showError('name', !name); if (!name) ok = false;
      const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      showError('email', !emailOk); if (!emailOk) ok = false;
      showError('subject', !subject); if (!subject) ok = false;
      showError('message', !message); if (!message) ok = false;
      if (!ok) return;

      const to = 'info@securitysystems.com';
      const bodyLines = [
        `Имя: ${name}`,
        `Email: ${email}`,
        phone ? `Телефон: ${phone}` : null,
        '',
        'Сообщение:',
        message
      ].filter(Boolean);

      const mailto = `mailto:${to}?subject=${enc(subject)}&body=${enc(bodyLines.join('\n'))}`;
      window.location.href = mailto;

      const hint = document.getElementById('formHint');
      if (hint) {
        hint.textContent = 'Мы открыли письмо в вашем почтовом приложении. Проверьте, отредактируйте и отправьте его.';
      }
    }, false);
  </script>
</body>
</html>
