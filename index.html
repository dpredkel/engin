<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Инжиниринг систем безопасности — Главная</title>
  <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <!-- js-yaml for parsing YAML data files -->
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#0d3959",
            "background-light": "#f6f7f8",
            "background-dark": "#111a21",
            "foreground-light": "#1F2937",
            "foreground-dark": "#F5F7FA",
            "subtle-light": "#4B5563",
            "subtle-dark": "#a1a1aa",
            "border-light": "#e5e7eb",
            "border-dark": "#374151"
          },
          fontFamily: { display: ["Inter", "sans-serif"] },
          borderRadius: {
            DEFAULT: "0.5rem",
            lg: "0.75rem",
            xl: "1rem",
            full: "9999px"
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Inter', sans-serif; }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-foreground-light dark:text-foreground-dark">
  <div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">
    <!-- Header -->
    <div data-include="partials/header.html"></div>

    <main class="flex-grow">
      <!-- Hero -->
      <section class="relative">
        <div id="hero-bg" class="absolute inset-0 bg-cover bg-center"></div>
        <div class="absolute inset-0 bg-black/50"></div>
        <div class="relative mx-auto max-w-[1200px] px-4 sm:px-6 lg:px-8 py-28 text-white">
          <div class="max-w-3xl">
            <h1 id="hero-title" class="text-4xl sm:text-5xl md:text-6xl font-black leading-tight tracking-tight">Инжиниринг систем безопасности</h1>
            <p id="hero-description" class="mt-4 text-lg text-white/90">Комплексные решения: проектирование, внедрение и обслуживание. Защита вашего бизнеса на всех этапах.</p>
            <div class="mt-8 flex flex-wrap gap-4">
              <a id="hero-primary-cta" href="services.html" class="rounded-lg px-6 py-3 bg-primary text-white text-base font-bold tracking-wide hover:bg-primary/90 transition-colors">Наши услуги</a>
              <a id="hero-secondary-cta" href="contacts.html" class="rounded-lg px-6 py-3 bg-white/10 text-white backdrop-blur-sm border border-white/20 text-base font-bold tracking-wide hover:bg-white/20 transition-colors">Связаться с нами</a>
            </div>
          </div>
        </div>
      </section>

      <!-- Services preview -->
      <section class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 id="services-preview-title" class="text-3xl font-bold tracking-tight">Ключевые услуги</h2>
          <p id="services-preview-subtitle" class="mt-2 text-lg text-subtle-light dark:text-subtle-dark">Полный спектр работ под нормативы СТБ/ГОСТ.</p>
        </div>
        <div id="services-preview-container" class="mx-auto max-w-[1200px] grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Services will be loaded dynamically -->
        </div>
        <div class="mx-auto max-w-[1200px] mt-10 text-center">
          <a href="services.html" class="inline-flex items-center justify-center rounded-lg h-12 px-6 bg-primary text-white text-base font-bold tracking-wide hover:bg-primary/90 transition-colors">Смотреть все услуги</a>
        </div>
      </section>

      <!-- Advantages -->
      <section class="bg-primary/5 dark:bg-primary/10 py-16 px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-[1200px]">
          <div class="text-center mb-12">
            <h2 id="advantages-title" class="text-3xl font-bold tracking-tight">Наши преимущества</h2>
            <p id="advantages-subtitle" class="mt-2 text-lg text-subtle-light dark:text-subtle-dark">Высокий стандарт качества и прозрачные процессы.</p>
          </div>
          <div id="advantages-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 text-center">
            <!-- Advantages will be loaded dynamically -->
          </div>
        </div>
      </section>

      <!-- Projects preview -->
      <section class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-[1200px]">
          <div class="text-center mb-12">
            <h2 id="projects-preview-title" class="text-3xl font-bold tracking-tight">Наши проекты</h2>
            <p id="projects-preview-subtitle" class="mt-2 text-lg text-subtle-light dark:text-subtle-dark">Примеры успешно реализованных объектов.</p>
          </div>
          <div id="projects-preview-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Projects will be loaded dynamically -->
          </div>
          <div class="text-center mt-10">
            <a href="projects.html" class="inline-flex items-center justify-center rounded-lg h-12 px-6 border border-border-light dark:border-border-dark text-base font-bold tracking-wide hover:bg-background-light/60 dark:hover:bg-background-dark/60 transition-colors">Все проекты</a>
          </div>
        </div>
      </section>

      <!-- Certificates / Partners -->
      <section id="licenses" class="py-16 px-4 sm:px-6 lg:px-8 bg-primary/5 dark:bg-primary/10">
        <div class="mx-auto max-w-[1200px]">
          <div class="text-center mb-12">
            <h2 id="certificates-title" class="text-3xl font-bold tracking-tight">Сертификаты и партнёры</h2>
            <p id="certificates-subtitle" class="mt-2 text-lg text-subtle-light dark:text-subtle-dark">Гарантия качества и надёжности.</p>
          </div>
          <div id="certificates-logos-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 items-center">
            <!-- Logos will be loaded dynamically -->
          </div>
        </div>
      </section>

      <!-- Contact teaser -->
      <section class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-[1200px] grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
          <div>
            <h2 id="contact-teaser-title" class="text-3xl font-bold tracking-tight">Готовы к диалогу? - Свяжитесь с нами</h2>
            <p id="contact-teaser-description" class="mt-2 text-lg text-subtle-light dark:text-subtle-dark">Ответим на любые вопросы и подготовим КП.</p>
            <div class="mt-6 space-y-2 text-subtle-light dark:text-subtle-dark">
              <p><b>Адрес:</b> <span id="contact-teaser-address">г. Минск, ул. Примерная, 1, офис 101</span></p>
              <p><b>Телефон:</b> <span id="contact-teaser-phone">+375 (29) 000-00-00</span></p>
              <p><b>Email:</b> <span id="contact-teaser-email">info@securitysystems.com</span></p>
            </div>
            <a id="contact-teaser-cta" href="contacts.html#contact-form" class="mt-6 inline-flex items-center justify-center rounded-lg h-12 px-6 bg-primary text-white text-base font-bold tracking-wide hover:bg-primary/90 transition-colors">Открыть форму</a>
          </div>
          <div id="contact-teaser-image" class="w-full aspect-video bg-cover bg-center rounded-lg"></div>
        </div>
      </section>
    </main>

    <!-- Footer include -->
    <div data-include="partials/footer.html"></div>
  </div>

  <!-- Скрипт инклюда (подставит хедер/футер и активирует навигацию) -->
  <script src="assets/include.js"></script>
  
  <!-- Dynamic content loading from _data/index.yml -->
  <script>
    document.addEventListener('DOMContentLoaded', async function() {
      try {
        const response = await fetch('_data/index.yml');
        if (!response.ok) throw new Error('Failed to load index data');
        
        const yamlText = await response.text();
        const data = jsyaml.load(yamlText);
        
        // Hero section
        if (data.hero) {
          document.getElementById('hero-title').textContent = data.hero.title;
          document.getElementById('hero-description').textContent = data.hero.description;
          document.getElementById('hero-primary-cta').textContent = data.hero.primary_cta_text;
          document.getElementById('hero-secondary-cta').textContent = data.hero.secondary_cta_text;
          document.getElementById('hero-bg').style.backgroundImage = `url("${data.hero.background_image}")`;
        }
        
        // Services preview
        if (data.services_preview) {
          document.getElementById('services-preview-title').textContent = data.services_preview.title;
          document.getElementById('services-preview-subtitle').textContent = data.services_preview.subtitle;
          
          const servicesContainer = document.getElementById('services-preview-container');
          servicesContainer.innerHTML = '';
          
          data.services_preview.services.forEach(service => {
            const card = document.createElement('div');
            card.className = 'group flex flex-col gap-4 bg-background-light dark:bg-background-dark p-6 rounded-lg border border-border-light dark:border-border-dark transition-all hover:shadow-xl hover:-translate-y-1';
            card.innerHTML = `
              <div class="w-full h-48 bg-cover bg-center rounded-lg" style="background-image: url('${service.image_url}')"></div>
              <div>
                <h3 class="text-lg font-bold">${service.title}</h3>
                <p class="mt-1 text-sm text-subtle-light dark:text-subtle-dark">${service.description}</p>
              </div>
            `;
            servicesContainer.appendChild(card);
          });
        }
        
        // Advantages
        if (data.advantages) {
          document.getElementById('advantages-title').textContent = data.advantages.title;
          document.getElementById('advantages-subtitle').textContent = data.advantages.subtitle;
          
          const advantagesContainer = document.getElementById('advantages-container');
          advantagesContainer.innerHTML = '';
          
          // Icon SVGs for each advantage (matching the original order)
          const icons = [
            '<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',
            '<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',
            '<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',
            '<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 6h16M4 10h16M4 14h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',
            '<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>'
          ];
          
          data.advantages.items.forEach((item, index) => {
            const advantage = document.createElement('div');
            advantage.className = 'flex flex-col items-center';
            advantage.innerHTML = `
              <div class="flex items-center justify-center size-16 bg-primary text-white rounded-full mb-4">
                ${icons[index] || icons[0]}
              </div>
              <h3 class="font-bold">${item.title}</h3>
            `;
            advantagesContainer.appendChild(advantage);
          });
        }
        
        // Projects preview
        if (data.projects_preview) {
          document.getElementById('projects-preview-title').textContent = data.projects_preview.title;
          document.getElementById('projects-preview-subtitle').textContent = data.projects_preview.subtitle;
          
          const projectsContainer = document.getElementById('projects-preview-container');
          projectsContainer.innerHTML = '';
          
          data.projects_preview.projects.forEach(project => {
            const card = document.createElement('div');
            card.className = 'group overflow-hidden rounded-lg border border-border-light dark:border-border-dark';
            card.innerHTML = `
              <div class="w-full h-56 bg-cover bg-center" style="background-image: url('${project.image_url}')"></div>
              <div class="p-6 bg-background-light dark:bg-background-dark">
                <h3 class="text-lg font-bold">${project.title}</h3>
                <p class="mt-1 text-sm text-subtle-light dark:text-subtle-dark">${project.description}</p>
              </div>
            `;
            projectsContainer.appendChild(card);
          });
        }
        
        // Certificates & Partners
        if (data.certificates_partners) {
          document.getElementById('certificates-title').textContent = data.certificates_partners.title;
          document.getElementById('certificates-subtitle').textContent = data.certificates_partners.subtitle;
          
          const logosContainer = document.getElementById('certificates-logos-container');
          logosContainer.innerHTML = '';
          
          data.certificates_partners.logos.forEach(logo => {
            const logoDiv = document.createElement('div');
            logoDiv.className = 'grayscale hover:grayscale-0 transition duration-300 aspect-square bg-center bg-no-repeat bg-contain';
            logoDiv.style.backgroundImage = `url("${logo.image_url}")`;
            logosContainer.appendChild(logoDiv);
          });
        }
        
        // Contact teaser
        if (data.contact_teaser) {
          document.getElementById('contact-teaser-title').textContent = data.contact_teaser.title;
          document.getElementById('contact-teaser-description').textContent = data.contact_teaser.description;
          document.getElementById('contact-teaser-address').textContent = data.contact_teaser.address;
          document.getElementById('contact-teaser-phone').textContent = data.contact_teaser.phone;
          document.getElementById('contact-teaser-email').textContent = data.contact_teaser.email;
          document.getElementById('contact-teaser-cta').textContent = data.contact_teaser.cta_text;
          document.getElementById('contact-teaser-image').style.backgroundImage = `url("${data.contact_teaser.image_url}")`;
        }
        
      } catch (error) {
        console.error('Error loading index page data:', error);
        // Fallback: keep the existing hardcoded content
      }
    });
  </script>
  
  <!-- Netlify Identity Widget (for CMS authentication) -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>
</body>
</html>
